exports.id=80,exports.ids=[80],exports.modules={7713:(e,s,r)=>{var t={"./en.json":[9316,316],"./es.json":[5671,671],"./fr.json":[7913,913],"./hy.json":[1028,28],"./ru.json":[375,375],"./uk.json":[7306,306]};function n(e){if(!r.o(t,e))return Promise.resolve().then(()=>{var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s});var s=t[e],n=s[0];return r.e(s[1]).then(()=>r.t(n,19))}n.keys=()=>Object.keys(t),n.id=7713,e.exports=n},3629:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},234:(e,s,r)=>{Promise.resolve().then(r.bind(r,3170)),Promise.resolve().then(r.bind(r,3185))},3071:(e,s,r)=>{"use strict";r.d(s,{Z:()=>h});var t=r(326);r(7577);var n=r(8853),a=r(5047),o=r(3844),i=r(434);let l=["en","ru","fr","uk","hy","es"],c={en:"English",ru:"Русский",uk:"Українська",hy:"Հայերեն",fr:"Fran\xe7ais",es:"Espa\xf1ol"};function u(){let e=(0,o.useLocale)(),s=(0,a.useRouter)(),r=(0,a.usePathname)(),n=(0,o.useTranslations)("common");return(0,t.jsxs)("div",{className:"language-switcher",children:[t.jsx("label",{htmlFor:"language-select",className:"language-label",children:n("languageLabel")}),t.jsx("select",{id:"language-select",value:e,onChange:t=>{let n=t.target.value,a=r.replace(`/${e}`,"");s.push(`/${n}${a||""}`)},className:"language-select",children:l.map(e=>t.jsx("option",{value:e,children:c[e]},e))})]})}var d=r(9105);function h({children:e}){let{user:s,logout:r,hasAnyRole:l}=(0,n.aC)(),c=(0,a.usePathname)(),h=(0,a.useRouter)(),g=(0,o.useTranslations)("nav"),k=(0,o.useTranslations)("common"),I=(0,o.useLocale)();if(!s)return h.push(d._.login(I)),null;let T=[{name:g("agenda"),href:d._.agenda(I),icon:m,show:l([n.K$.ADMIN,n.K$.RECEPTION,n.K$.PRACTITIONER])},{name:g("schedule"),href:d._.schedule(I),icon:p,show:l([n.K$.ADMIN,n.K$.RECEPTION,n.K$.PRACTITIONER])},{name:g("patients"),href:d._.patients.list(I),icon:v,show:l([n.K$.ADMIN,n.K$.RECEPTION,n.K$.PRACTITIONER])},{name:g("encounters"),href:d._.encounters.list(I),icon:j,show:l([n.K$.ADMIN,n.K$.PRACTITIONER])},{name:g("proposals"),href:d._.proposals.list(I),icon:N,show:l([n.K$.ADMIN,n.K$.RECEPTION,n.K$.ACCOUNTING])},{name:g("sales"),href:d._.sales.list(I),icon:f,show:l([n.K$.ADMIN,n.K$.RECEPTION,n.K$.ACCOUNTING])},{name:g("admin"),href:d._.admin(I),icon:x,show:l([n.K$.ADMIN])}];return(0,t.jsxs)("div",{className:"app-layout",children:[(0,t.jsxs)("aside",{className:"sidebar",children:[(0,t.jsxs)("div",{className:"sidebar-header",children:[t.jsx("h2",{children:"Cosmetica 5"}),(0,t.jsxs)("div",{className:"user-info",children:[t.jsx("span",{className:"user-name",children:s.email||k("user")}),t.jsx("span",{className:"user-roles",children:s.roles.join(", ")})]})]}),t.jsx("nav",{className:"sidebar-menu",children:T.filter(e=>e.show).map(e=>{let s=c===e.href||c?.startsWith(e.href+"/");return(0,t.jsxs)(i.default,{href:e.href,className:`sidebar-item ${s?"active":""}`,children:[t.jsx(e.icon,{className:"sidebar-icon"}),t.jsx("span",{children:e.name})]},e.name)})}),(0,t.jsxs)("div",{className:"sidebar-footer",children:[t.jsx(u,{}),t.jsx("button",{onClick:r,className:"btn-secondary w-full",style:{marginTop:"12px"},children:g("actions.logout")})]})]}),t.jsx("main",{className:"main-content",children:e})]})}function m({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}function p({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}function v({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}function j({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}function N({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}function f({className:e}){return t.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}function x({className:e}){return(0,t.jsxs)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}},3002:(e,s,r)=>{"use strict";r.d(s,{ZP:()=>a});var t=r(4464);r(5154);let n=t.Z.create({baseURL:"http://localhost:8000",headers:{"Content-Type":"application/json"},timeout:3e4});n.interceptors.request.use(e=>e,e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{let s=e.config;return e.response?.status===401&&s._retry,Promise.reject(e)});let a=n},5154:(e,s,r)=>{"use strict";r.d(s,{q:()=>t});let t={AUTH:{TOKEN:"/api/auth/token/",REFRESH:"/api/auth/token/refresh/",ME:"/api/auth/me/"},CLINICAL:{APPOINTMENTS:"/api/v1/clinical/appointments/",PATIENTS:"/api/v1/clinical/patients/",ENCOUNTERS:"/api/v1/clinical/encounters/",TREATMENTS:"/api/v1/clinical/treatments/",PROPOSALS:"/api/v1/clinical/proposals/"},POS:{SALES:"/api/v1/pos/sales/"}}},8853:(e,s,r)=>{"use strict";r.d(s,{Ho:()=>c,K$:()=>h,aC:()=>u,p5:()=>d});var t=r(326),n=r(7577),a=r(5047),o=r(3002),i=r(5154);let l=(0,n.createContext)(void 0);function c({children:e}){let[s,r]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0),d=(0,a.useRouter)(),h=async(e,s)=>{try{let{access:t,refresh:n}=(await o.ZP.post(i.q.AUTH.TOKEN,{email:e,password:s})).data;if(!t||!n)throw Error("Invalid token response from server");localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",n);let a=(await o.ZP.get(i.q.AUTH.ME)).data;localStorage.setItem("user",JSON.stringify(a)),r(a)}catch(e){throw localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),r(null),Error(e.response?.data?.detail||e.response?.data?.error?.message||"Login failed. Please check your credentials.")}},m=e=>s?.roles?.includes(e)??!1;return t.jsx(l.Provider,{value:{user:s,isLoading:c,isAuthenticated:!!s,login:h,logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),r(null),d.push("/en/login")},hasRole:m,hasAnyRole:e=>e.some(e=>m(e))},children:e})}function u(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{hasAnyRole:s}=u();return s(e)}let h={ADMIN:"admin",PRACTITIONER:"practitioner",RECEPTION:"reception",MARKETING:"marketing",ACCOUNTING:"accounting"}},3185:(e,s,r)=>{"use strict";r.d(s,{Providers:()=>l});var t=r(326),n=r(2852),a=r(4976),o=r(7577),i=r(8853);function l({children:e}){let[s]=(0,o.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:6e4,retry:1,refetchOnWindowFocus:!1}}}));return t.jsx(a.aH,{client:s,children:t.jsx(i.Ho,{children:e})})}},9105:(e,s,r)=>{"use strict";r.d(s,{_:()=>t});let t={dashboard:e=>`/${e}`,agenda:e=>`/${e}`,schedule:e=>`/${e}/schedule`,encounters:{list:e=>`/${e}/encounters`,detail:(e,s)=>`/${e}/encounters/${s}`},proposals:{list:e=>`/${e}/proposals`},login:e=>`/${e}/login`,patients:{list:e=>`/${e}/patients`,detail:(e,s)=>`/${e}/patients/${s}`},sales:{list:e=>`/${e}/sales`},admin:e=>`/${e}/admin`}},9526:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(107).Z)(async({locale:e})=>({messages:(await r(7713)(`./${e}.json`)).default}))},4223:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(9510),n=r(3186),a=r(5031);let o=(0,r(8570).createProxy)(String.raw`/Users/josericardoparlonsebastian/Desktop/Ideas/Cosmetica 5/apps/web/src/lib/providers.tsx#Providers`);async function i({children:e,params:{locale:s}}){let r=await (0,a.Z)();return t.jsx("html",{lang:s,children:t.jsx("body",{children:t.jsx(o,{children:t.jsx(n.Z,{messages:r,children:e})})})})}r(9414)},9414:()=>{}};