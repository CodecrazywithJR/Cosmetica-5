(()=>{var e={};e.id=61,e.ids=[61],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(5875),s(4223),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["[locale]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5875)),"/Users/josericardoparlonsebastian/Desktop/Ideas/Cosmetica 5/apps/web/src/app/[locale]/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4223)),"/Users/josericardoparlonsebastian/Desktop/Ideas/Cosmetica 5/apps/web/src/app/[locale]/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/josericardoparlonsebastian/Desktop/Ideas/Cosmetica 5/apps/web/src/app/[locale]/page.tsx"],p="/[locale]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[locale]/page",pathname:"/[locale]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4531:(e,t,s)=>{Promise.resolve().then(s.bind(s,4862))},4862:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(326),a=s(3071);function i({isLoading:e,error:t,isEmpty:s=!1,emptyMessage:a="No data available",emptyDescription:i,emptyAction:n,loadingMessage:l="Loading...",errorTitle:o,errorDescription:d,errorMessage:c,children:p}){return e?r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-body",style:{textAlign:"center",padding:"48px 20px"},children:r.jsx("div",{style:{fontSize:"16px",color:"var(--gray-600)"},children:l})})}):t?r.jsx("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",style:{textAlign:"center",padding:"48px 20px"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:"⚠️"}),r.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px",color:"var(--error)"},children:o||c||"Error"}),d&&r.jsx("p",{style:{color:"var(--gray-600)",fontSize:"14px",maxWidth:"400px",margin:"0 auto"},children:d})]})}):s?r.jsx("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",style:{textAlign:"center",padding:"48px 20px"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:"\uD83D\uDCCB"}),r.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"8px"},children:a}),i&&r.jsx("p",{style:{color:"var(--gray-600)",marginBottom:"24px",fontSize:"14px"},children:i}),n&&r.jsx("button",{onClick:n.onClick,className:"btn-primary",disabled:!n.onClick,children:n.label})]})}):r.jsx(r.Fragment,{children:p})}var n=s(108),l=s(4976),o=s(119),d=s(3002),c=s(5154);let p={all:["appointments"],lists:()=>[...p.all,"list"],list:e=>[...p.lists(),e],details:()=>[...p.all,"detail"],detail:e=>[...p.details(),e]};var u=s(7577),x=s(3844);function h(){var e;let t=(0,x.useTranslations)("agenda"),s=(0,x.useTranslations)("common"),h=(0,x.useLocale)(),[m,g]=(0,u.useState)(new Date().toISOString().split("T")[0]),[j,y]=(0,u.useState)(""),{data:v,isLoading:b,error:f}=(e={date:m,status:j||void 0},(0,n.a)({queryKey:p.list(e||{}),queryFn:async()=>(await d.ZP.get(c.q.CLINICAL.APPOINTMENTS,{params:e})).data})),q=function(){let e=(0,l.NL)();return(0,o.D)({mutationFn:async({id:e,status:t})=>(await d.ZP.patch(`${c.q.CLINICAL.APPOINTMENTS}${e}/`,{status:t})).data,onSuccess:(t,s)=>{e.invalidateQueries({queryKey:p.lists()}),e.invalidateQueries({queryKey:p.detail(s.id)})}})}(),N=(0,u.useMemo)(()=>{if(f||b)return v?.results||[];let e=v?.results||[];return e.length,e},[v,f,b,m]),_=0===N.length,P=(e,t)=>{q.mutate({id:e,status:t})};(0,u.useMemo)(()=>new Intl.DateTimeFormat(h,{year:"numeric",month:"long",day:"numeric"}),[h]);let S=(0,u.useMemo)(()=>new Intl.DateTimeFormat(h,{hour:"2-digit",minute:"2-digit"}),[h]);return r.jsx(a.Z,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"page-header",children:[r.jsx("h1",{children:t("title")}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"date",value:m,onChange:e=>g(e.target.value),className:"form-group",style:{marginBottom:0,width:"auto",padding:"8px 12px"},"aria-label":t("filters.date")}),(0,r.jsxs)("select",{value:j,onChange:e=>y(e.target.value),style:{padding:"8px 12px",border:"1px solid var(--gray-300)",borderRadius:"6px"},"aria-label":t("filters.status"),children:[r.jsx("option",{value:"",children:t("filters.allStatuses")}),r.jsx("option",{value:"scheduled",children:t("appointment.status.scheduled")}),r.jsx("option",{value:"confirmed",children:t("appointment.status.confirmed")}),r.jsx("option",{value:"checked_in",children:t("appointment.status.checked_in")}),r.jsx("option",{value:"completed",children:t("appointment.status.completed")}),r.jsx("option",{value:"cancelled",children:t("appointment.status.cancelled")}),r.jsx("option",{value:"no_show",children:t("appointment.status.no_show")})]})]})]}),(0,r.jsxs)(i,{isLoading:b,error:f,isEmpty:_,emptyMessage:t("emptyState.title"),emptyDescription:t("emptyState.description"),emptyAction:{label:t("emptyState.action"),onClick:void 0},loadingMessage:s("loading"),errorTitle:t("errors.title"),errorDescription:t("errors.description"),children:[r.jsx("div",{className:"card",children:(0,r.jsxs)("table",{className:"table",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{children:t("table.time")}),r.jsx("th",{children:t("table.patient")}),r.jsx("th",{children:t("table.practitioner")}),r.jsx("th",{children:t("table.type")}),r.jsx("th",{children:t("table.status")}),r.jsx("th",{children:t("table.actions")})]})}),r.jsx("tbody",{children:N.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{children:[r.jsx("div",{style:{fontWeight:500},children:S.format(new Date(e.scheduled_start))}),e.scheduled_end&&r.jsx("div",{style:{fontSize:"12px",color:"var(--gray-600)"},children:S.format(new Date(e.scheduled_end))})]}),(0,r.jsxs)("td",{children:[r.jsx("div",{style:{fontWeight:500},children:e.patient.full_name}),r.jsx("div",{style:{fontSize:"12px",color:"var(--gray-600)"},children:e.patient.email||e.patient.phone||"—"})]}),r.jsx("td",{children:e.practitioner?.display_name||"—"}),r.jsx("td",{children:r.jsx("span",{style:{fontSize:"13px",color:"var(--gray-700)"},children:e.source})}),r.jsx("td",{children:r.jsx("span",{className:`badge badge-${e.status}`,children:t(`appointment.status.${e.status}`)})}),r.jsx("td",{children:(0,r.jsxs)("div",{className:"flex gap-2",children:["scheduled"===e.status&&r.jsx("button",{onClick:()=>P(e.id,"confirmed"),className:"btn-secondary btn-sm",disabled:q.isPending,children:t("actions.confirm")}),"confirmed"===e.status&&r.jsx("button",{onClick:()=>P(e.id,"checked_in"),className:"btn-primary btn-sm",disabled:q.isPending,children:t("actions.checkIn")}),"checked_in"===e.status&&r.jsx("button",{onClick:()=>P(e.id,"completed"),className:"btn-primary btn-sm",disabled:q.isPending,children:t("actions.complete")}),("scheduled"===e.status||"confirmed"===e.status)&&r.jsx("button",{onClick:()=>P(e.id,"cancelled"),className:"btn-secondary btn-sm",disabled:q.isPending,style:{color:"var(--error)"},children:t("actions.cancel")})]})})]},e.id))})]})}),N.length>0&&(0,r.jsxs)("div",{style:{marginTop:"16px",fontSize:"14px",color:"var(--gray-600)"},children:[t("summary.totalAppointments"),": ",N.length]})]})]})})}},5875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/josericardoparlonsebastian/Desktop/Ideas/Cosmetica 5/apps/web/src/app/[locale]/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,49,364,420,80],()=>s(199));module.exports=r})();