# ============================================================================
# EMR Dermatology + POS Cosmetics - Environment Configuration EXAMPLE
# ============================================================================
# ⚠️  IMPORTANT: This project is Docker-first
# 
# This file is for REFERENCE ONLY. Do NOT use it directly.
# 
# For development:   Use .env.dev (already configured)
# For production:    Use .env.prod (MUST edit passwords)
# 
# To start:
#   Development:   ./start-dev.sh
#   Production:    ./start-prod.sh
#
# See RUN.md for complete instructions
# ============================================================================

# ----------------------------------------------------------------------------
# PORTS - FIXED AND IMMUTABLE (see docs/PORTS.md before changing)
# ----------------------------------------------------------------------------
FRONTEND_PORT=3000       # ERP/Admin Dashboard (apps/web)
BACKEND_PORT=8000        # Django API
POSTGRES_PORT=5432       # PostgreSQL Database
REDIS_PORT=6379          # Redis Cache/Broker
MINIO_PORT=9000          # MinIO S3 API
MINIO_CONSOLE_PORT=9001  # MinIO Console
SITE_PORT=3001           # Public Website (apps/site) - DEV ONLY

# ----------------------------------------------------------------------------
# BACKEND (Django) Configuration
# ----------------------------------------------------------------------------
DJANGO_SECRET_KEY=dev-secret-key-change-in-production-use-50-chars-min
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,api
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Database
DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=emr_derma_db
DATABASE_USER=emr_user
DATABASE_PASSWORD=emr_dev_pass
DATABASE_HOST=postgres
DATABASE_PORT=5432

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# MinIO (S3-compatible storage)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=derma-photos
MINIO_USE_SSL=False
MINIO_PUBLIC_URL=http://localhost:9000

# Django Admin
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=admin123dev

# JWT Authentication
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_SIGNING_KEY=dev-jwt-secret-change-in-production

# Email (optional - for password reset, notifications)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# ----------------------------------------------------------------------------
# FRONTEND (Next.js) Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=DermaEMR
NEXT_PUBLIC_DEFAULT_LOCALE=en

# API timeout settings (milliseconds)
NEXT_PUBLIC_API_TIMEOUT=30000

# Feature flags
NEXT_PUBLIC_ENABLE_POS=true
NEXT_PUBLIC_ENABLE_CALENDLY_INTEGRATION=false

# ----------------------------------------------------------------------------
# POSTGRES Configuration
# ----------------------------------------------------------------------------
POSTGRES_DB=emr_derma_db
POSTGRES_USER=emr_user
POSTGRES_PASSWORD=emr_dev_pass
POSTGRES_INITDB_ARGS=--encoding=UTF8 --locale=en_US.UTF-8

# ----------------------------------------------------------------------------
# MinIO Configuration
# ----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# MinIO buckets (auto-created on startup)
# - derma-photos: Clinical skin photos (PRIVATE, clinical use only)
# - marketing: Public marketing assets (website, social media)
MINIO_CLINICAL_BUCKET=derma-photos
MINIO_MARKETING_BUCKET=marketing

# ----------------------------------------------------------------------------
# PUBLIC WEBSITE Configuration
# ----------------------------------------------------------------------------
# Public site API base URL (used by apps/site)
NEXT_PUBLIC_SITE_CONTENT_API_BASE_URL=http://localhost:8000/public

# Site metadata
NEXT_PUBLIC_SITE_NAME=DermaClinic
NEXT_PUBLIC_SITE_DESCRIPTION=Professional dermatology and cosmetics clinic

# ----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# ----------------------------------------------------------------------------
# Logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=DEBUG

# Hot reload
WATCHFILES_FORCE_POLLING=false

# Development tools
ENABLE_DJANGO_DEBUG_TOOLBAR=true
ENABLE_DJANGO_EXTENSIONS=true

# ----------------------------------------------------------------------------
# PRODUCTION SETTINGS (commented out for dev)
# ----------------------------------------------------------------------------
# Uncomment and customize these for production deployment

# DJANGO_DEBUG=False
# DJANGO_SECRET_KEY=generate-a-secure-random-50-char-key
# DATABASE_PASSWORD=strong-password-here
# MINIO_SECRET_KEY=strong-password-here
# JWT_SIGNING_KEY=strong-random-key-here

# SSL/TLS
# DJANGO_SECURE_SSL_REDIRECT=True
# DJANGO_SESSION_COOKIE_SECURE=True
# DJANGO_CSRF_COOKIE_SECURE=True
# MINIO_USE_SSL=True

# Domain configuration
# DJANGO_ALLOWED_HOSTS=yourdomain.com,api.yourdomain.com
# NEXT_PUBLIC_API_BASE_URL=https://api.yourdomain.com
# MINIO_PUBLIC_URL=https://storage.yourdomain.com

# SMTP (production email)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=your-sendgrid-api-key

# Monitoring
# SENTRY_DSN=
# SENTRY_ENVIRONMENT=production

# ----------------------------------------------------------------------------
# DOCKER COMPOSE OVERRIDES
# ----------------------------------------------------------------------------
# These are used by docker-compose.yml - do not modify unless needed
COMPOSE_PROJECT_NAME=emr-derma
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ----------------------------------------------------------------------------
# HEALTHCHECK CONFIGURATION
# ----------------------------------------------------------------------------
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# ----------------------------------------------------------------------------
# INTEGRATION SETTINGS
# ----------------------------------------------------------------------------
# Calendly Webhook
CALENDLY_WEBHOOK_SECRET=dev-webhook-secret
CALENDLY_API_TOKEN=

# Future integrations
# STRIPE_SECRET_KEY=
# STRIPE_PUBLISHABLE_KEY=
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
