# ============================================================================
# EMR Dermatology + POS Cosmetics - DEVELOPMENT Environment
# ============================================================================
# This file is used by docker-compose.dev.yml for development mode.
# - Hot reload enabled
# - DEBUG=True
# - All services in Docker
# ============================================================================

# ----------------------------------------------------------------------------
# PORTS - FIXED AND IMMUTABLE (see docs/PORTS.md before changing)
# ----------------------------------------------------------------------------
FRONTEND_PORT=3000       # ERP/Admin Dashboard (apps/web)
BACKEND_PORT=8000        # Django API
POSTGRES_PORT=5432       # PostgreSQL Database
REDIS_PORT=6379          # Redis Cache/Broker
MINIO_PORT=9000          # MinIO S3 API
MINIO_CONSOLE_PORT=9001  # MinIO Console
SITE_PORT=3001           # Public Website (apps/site)

# ----------------------------------------------------------------------------
# BACKEND (Django) Configuration - DEVELOPMENT
# ----------------------------------------------------------------------------
DJANGO_SECRET_KEY=dev-secret-key-change-in-production-use-50-chars-min
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,api
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Database - Use Docker service name
DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=emr_derma_db
DATABASE_USER=emr_user
DATABASE_PASSWORD=emr_dev_pass
DATABASE_HOST=postgres
DATABASE_PORT=5432

# Redis - Use Docker service name
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# MinIO - Use Docker service name
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=derma-photos
MINIO_USE_SSL=False
MINIO_PUBLIC_URL=http://localhost:9000

# Django Admin
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=admin123dev

# JWT Authentication
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_SIGNING_KEY=dev-jwt-secret-change-in-production

# Email (console backend for dev)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=

# ----------------------------------------------------------------------------
# FRONTEND (Next.js) Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=DermaEMR
NEXT_PUBLIC_DEFAULT_LOCALE=en
NEXT_PUBLIC_API_TIMEOUT=30000

# Feature flags
NEXT_PUBLIC_ENABLE_POS=true
NEXT_PUBLIC_ENABLE_CALENDLY_INTEGRATION=false

# ----------------------------------------------------------------------------
# POSTGRES Configuration
# ----------------------------------------------------------------------------
POSTGRES_DB=emr_derma_db
POSTGRES_USER=emr_user
POSTGRES_PASSWORD=emr_dev_pass
POSTGRES_INITDB_ARGS=--encoding=UTF8 --locale=en_US.UTF-8

# ----------------------------------------------------------------------------
# MinIO Configuration
# ----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_CLINICAL_BUCKET=derma-photos
MINIO_MARKETING_BUCKET=marketing

# ----------------------------------------------------------------------------
# PUBLIC WEBSITE Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SITE_CONTENT_API_BASE_URL=http://localhost:8000/public
NEXT_PUBLIC_SITE_NAME=DermaClinic
NEXT_PUBLIC_SITE_DESCRIPTION=Professional dermatology and cosmetics clinic

# ----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=DEBUG
WATCHFILES_FORCE_POLLING=false
ENABLE_DJANGO_DEBUG_TOOLBAR=true
ENABLE_DJANGO_EXTENSIONS=true

# Static files - skip collectstatic in dev (set to 0)
DJANGO_COLLECTSTATIC=0

# ----------------------------------------------------------------------------
# DOCKER COMPOSE OVERRIDES
# ----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=emr-derma-dev
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ----------------------------------------------------------------------------
# HEALTHCHECK CONFIGURATION
# ----------------------------------------------------------------------------
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# ----------------------------------------------------------------------------
# INTEGRATION SETTINGS
# ----------------------------------------------------------------------------
CALENDLY_WEBHOOK_SECRET=dev-webhook-secret
CALENDLY_API_TOKEN=
